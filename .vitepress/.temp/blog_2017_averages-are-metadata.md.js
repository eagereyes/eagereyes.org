import { ssrRenderAttrs } from "vue/server-renderer";
import { useSSRContext } from "vue";
import { _ as _export_sfc } from "./plugin-vue_export-helper.cc2b3d55.js";
const __pageData = JSON.parse(`{"title":"Averages Are Metadata","description":"When we think of metadata, we tend to think of attributes that describe the data. Where do the numbers come from? What do the values in a categorical column mean? Etc. But there is a type of metadata we rarely even recognize as such: values computed from the data. They're often treated as part of the data, but that's a mistake.","frontmatter":{"title":"Averages Are Metadata","description":"When we think of metadata, we tend to think of attributes that describe the data. Where do the numbers come from? What do the values in a categorical column mean? Etc. But there is a type of metadata we rarely even recognize as such: values computed from the data. They're often treated as part of the data, but that's a mistake.","date":"2017-05-14T19:07:00.000Z","tags":null,"featuredImage":"https://media.eagereyes.org/wp-content/uploads/2017/05/Image-4-30-17-9-47-PM.jpeg"},"headers":[],"relativePath":"blog/2017/averages-are-metadata.md","filePath":"blog/2017/averages-are-metadata.md"}`);
const _sfc_main = { name: "blog/2017/averages-are-metadata.md" };
function _sfc_ssrRender(_ctx, _push, _parent, _attrs, $props, $setup, $data, $options) {
  _push(`<div${ssrRenderAttrs(_attrs)}><p align="center"><img src="https://media.eagereyes.org/wp-content/uploads/2017/05/Image-4-30-17-9-47-PM.jpeg" width="624" height="305"></p><h1 id="averages-are-metadata" tabindex="-1">Averages Are Metadata <a class="header-anchor" href="#averages-are-metadata" aria-label="Permalink to &quot;Averages Are Metadata&quot;">​</a></h1><p>When we think of metadata, we tend to think of attributes that describe the data. Where do the numbers come from? What do the values in a categorical column mean? Etc. But there is a type of metadata we rarely even recognize as such: values computed from the data. They&#39;re often treated as part of the data, but that&#39;s a mistake.</p><p>Most metadata is so different from the data itself that it&#39;s easy to spot: of course the URL pointing to the source of the data is not part of the data! Even the number of records typically looks different than any of the values (it doesn&#39;t have a unit like dollars, for one). The line is much less clear, though, when it comes to values that are derived from the data.</p><h2 id="the-average-in-the-data" tabindex="-1">The Average In The Data <a class="header-anchor" href="#the-average-in-the-data" aria-label="Permalink to &quot;The Average In The Data&quot;">​</a></h2><p>This is the disconnect that bugged me when I saw this tweet from The New York Times the other day:</p><p><a href="https://twitter.com/nytgraphics/status/854422095685726208" target="_blank" rel="noreferrer">https://twitter.com/nytgraphics/status/854422095685726208</a></p><p>Seeing the average included in the chart like this bothers me. It feels wrong. I think there are a few reasons for this. For one, it&#39;s ugly. The average has to be dressed up to make clear that this is not a regular data value. But then, why include it as one?</p><p>When the data is sorted, including the average makes some sense to see which airlines, in this case, are above or below the average. This is useful especially when the distribution is a power law like here, and there is data that is not shown but that is part of the calculations (passenger volume for each airline in this case, which the number of complaints is normalized by).</p><p>But then, it&#39;s not like you can&#39;t see that when you draw a simple line. After <a href="https://twitter.com/eagereyes/status/854424631213568000">I tweeted that I found the above confusing</a>, RJ Andrews did <a href="https://twitter.com/infowetrust/status/854503656288264192">a quick redesign</a> of what I would consider to be the obvious way of showing the average (and also fixed the odd title on the other one):</p><img class="alignnone size-full wp-image-10055" src="https://media.eagereyes.org/wp-content/uploads/2017/05/Image-4-30-17-9-50-PM.jpeg" width="1172" height="458"><p>Why not do this? Dressing up the average required some graphics work beyond a simple chart in the original, wouldn&#39;t it have been easier to just draw a line instead?</p><h2 id="going-meta" tabindex="-1">Going Meta <a class="header-anchor" href="#going-meta" aria-label="Permalink to &quot;Going Meta&quot;">​</a></h2><p>I understood what had bothered me beyond the aesthetics when Elijah Meeks made an interesting point: the core issue here was that <a href="https://twitter.com/Elijah_Meeks/status/854429661979332608">the average was treated as part of the data, rather than as metadata </a>. The average is not a special value, it&#39;s not a data value at all! It&#39;s not part of the data.</p><p>The average describes the data. It summarizes it. That means it’s data about the data. It’s really no different than the number of rows in the table or the data dictionary. Just because it’s a number and in the same units as the data values doesn’t make it one.</p><p>Including averages and totals in a table is something that strikes me as very much rooted in the thinking that is dominated by printed tables and spreadsheets. When data is released as spreadsheets, it&#39;s quite common to include totals and averages. They are provided for convenience or because it may not be possible to compute them from the data provided (because of weighting or other issues). U.S. government data often does this, including the U.S. value in addition to all the states, etc., and there are many other examples.</p><p>The problem isn&#39;t that these values are included, it&#39;s <em>how</em> this is done: as part of the main table, not a separate sheet or file. That makes the average, total, etc., just another value in the table, rather than a piece of clearly delineated metadata. When you create a chart from such a spreadsheet, it will include the average like all the other values. So it’s understandable that charts like the one above are being made.</p><h2 id="clear-distinctions-clearer-thinking" tabindex="-1">Clear Distinctions, Clearer Thinking <a class="header-anchor" href="#clear-distinctions-clearer-thinking" aria-label="Permalink to &quot;Clear Distinctions, Clearer Thinking&quot;">​</a></h2><p>This becomes problematic when the data is to be used in some more sophisticated analysis than just turning it into a simple chart, where the non-data values will get in the way (and the data needs to be recast in <a href="/basics/spreadsheet-thinking-vs-database-thinking">a more database-like structure</a>). A calculated average will now be wrong, because the average that&#39;s already in the data distorts it. The same is true for sums, medians, etc.</p><p>The reason for including these values, convenience, now becomes an obstacle. And since it&#39;s not possible to know beforehand what kinds of analysis will be done on the data, it&#39;s impossible to include all the derived values that might be needed.</p><p>The way to fix this is to treat derived values as metadata and not throw them into the main table. Spreadsheets have lots of features for this, like tabs. Files can be separated out. Spreadsheets (and in particular CSV files) don&#39;t have to exactly mirror the structure of a printed table – in fact, that&#39;s usually a terrible way of releasing data.</p><p>But what&#39;s more, data tables aren&#39;t like printed ones. They are the raw material for further processing, not the end result. <a href="/data/dish-best-served-raw">They need to be readable by machines, not humans</a>. Including averages and other derived values shows a fundamental misunderstanding of this basic fact.</p><p><em>Posted by <a href="/about">Robert Kosara</a> on May 14, 2017</em></p><aside class="comments"><hr><h2 id="comments" tabindex="-1">Comments <a class="header-anchor" href="#comments" aria-label="Permalink to &quot;Comments&quot;">​</a></h2><p>Gregor says…</p><blockquote><p>the quick redesign isn&#39;t helpful because it excludes all the things that made the chart readable. the long titles, the unit descriptions, the bar labels, the value labels, the grid labels, etc. if you leave everything that matters out there is suddenly a lot of empty space to put in average lines and yet another label to explain what the line is.</p></blockquote><p><a href="/about" rel="nofollow noopener" target="_blank">Robert Kosara</a> says…</p><blockquote><p>It&#39;s unfinished, I&#39;ll give you that. But I don&#39;t see why labeling that extra line would be all that difficult. The bars are the same as before.</p></blockquote><p><a href="http://steveharoz.com" rel="nofollow noopener" target="_blank">Steve Haroz</a> says…</p><blockquote><p>Cool post, Robert. As much as I agree subjectively, I wonder if we can make this idea falsifiable. In a visualization, what kind of imprecision or judgement error or even speed difference would you expect with avg-as-bar vs avg-as-grid-line?</p></blockquote><p><a href="/about" rel="nofollow noopener" target="_blank">Robert Kosara</a> says…</p><blockquote><p>I would expect it to be much easier to see how far away from the average you are with a line than a bar, especially with more bars. Perhaps the more important thing would be confidence, though: can I easily find the average and how sure do I feel about the difference? I&#39;d be surprised if the line wasn&#39;t better at both.</p></blockquote></aside></div>`);
}
const _sfc_setup = _sfc_main.setup;
_sfc_main.setup = (props, ctx) => {
  const ssrContext = useSSRContext();
  (ssrContext.modules || (ssrContext.modules = /* @__PURE__ */ new Set())).add("blog/2017/averages-are-metadata.md");
  return _sfc_setup ? _sfc_setup(props, ctx) : void 0;
};
const averagesAreMetadata = /* @__PURE__ */ _export_sfc(_sfc_main, [["ssrRender", _sfc_ssrRender]]);
export {
  __pageData,
  averagesAreMetadata as default
};
