import { ssrRenderAttrs } from "vue/server-renderer";
import { useSSRContext } from "vue";
import { _ as _export_sfc } from "./plugin-vue_export-helper.cc2b3d55.js";
const __pageData = JSON.parse('{"title":"Graphs Beyond the Hairball","description":"Networks are usually drawn using a technique called node-link diagrams. While that works well for small graphs (the technical name for networks), it breaks down beyond a few dozen nodes. Better techniques exist, though these are currently focused on specific types of graphs or answer particular questions.","frontmatter":{"title":"Graphs Beyond the Hairball","description":"Networks are usually drawn using a technique called node-link diagrams. While that works well for small graphs (the technical name for networks), it breaks down beyond a few dozen nodes. Better techniques exist, though these are currently focused on specific types of graphs or answer particular questions.","date":"2012-02-01T21:30:00.000Z","tags":"techniques","featuredImage":"https://media.eagereyes.org/wp-content/uploads/2012/02/matrix-vs-nodelink.png"},"headers":[],"relativePath":"blog/2012/graphs-hairball.md","filePath":"blog/2012/graphs-hairball.md"}');
const _sfc_main = { name: "blog/2012/graphs-hairball.md" };
function _sfc_ssrRender(_ctx, _push, _parent, _attrs, $props, $setup, $data, $options) {
  _push(`<div${ssrRenderAttrs(_attrs)}><h1 id="graphs-beyond-the-hairball" tabindex="-1">Graphs Beyond the Hairball <a class="header-anchor" href="#graphs-beyond-the-hairball" aria-label="Permalink to &quot;Graphs Beyond the Hairball&quot;">​</a></h1><p>Networks are usually drawn using a technique called node-link diagrams. While that works well for small graphs (the technical name for networks), it breaks down beyond a few dozen nodes. Better techniques exist, though these are currently focused on specific types of graphs or answer particular questions.</p><h2 id="node-link-diagrams" tabindex="-1">Node-Link Diagrams <a class="header-anchor" href="#node-link-diagrams" aria-label="Permalink to &quot;Node-Link Diagrams&quot;">​</a></h2><p>When you think of a graph, you likely already think of a node-link diagram – unless you’re a mathematician. This technique is incredibly effective in communicating the basic idea of a network: there are nodes, typically shown as little dots or circles, and they’re connected by links, or edges in graph lingo. Even the difference between a directed and an undirected graph is obvious: little arrows mean that there’s a direction, no arrows means no direction. Lane Harrison gives <a href="http://blog.visual.ly/network-visualizations/">a good overview on the Visual.ly blog</a>. Carlos Scheidegger is also writing <a href="http://cscheid.net/blog/so_you_want_to_look_at_a_graph">an interesting, if mathematical, series on graphs of the node-link variety</a>.</p><p>These images are easy to understand even for people who have never seen such a diagram before, which is not something that can be said about many visualization techniques. Most people would also easily be able to figure out how to answer basic questions using such a diagram, like finding the person with the most friends (i.e., the node with the highest degree) or looking for highly connected groups that only have a small number of links between them (so-called cliques).</p><h2 id="hairballs" tabindex="-1">Hairballs <a class="header-anchor" href="#hairballs" aria-label="Permalink to &quot;Hairballs&quot;">​</a></h2><p>There is a catch, of course. The simplicity and beauty of node-link diagrams turns into clutter and confusion when the number of nodes and links gets too high: the dreaded hairball.</p><p align="center"><img class="aligncenter size-full wp-image-1700" title="ecoli_meta3_sm" src="https://media.eagereyes.org/wp-content/uploads/2012/02/ecoli_meta3_sm.png" alt="" width="400" height="400"></p><p>Many techniques have been developed to sort out the clutter: edge bundling, node filtering, edge lenses, many, many different layout algorithms, etc. But none of them provide a good, general solution to the underlying problem. The question also needs to be asked if the most obvious visual depiction is also the most effective. It may not be.</p><h2 id="matrix-methods" tabindex="-1">Matrix Methods <a class="header-anchor" href="#matrix-methods" aria-label="Permalink to &quot;Matrix Methods&quot;">​</a></h2><p>Matrix visualizations represent a very different approach. These techniques are based on the adjacency matrix, which defines which nodes in a graph are connected to which. Imagine a table with a row and a column for each node. The value in each cell of the matrix contains a value of 1 if there is a connection between the node in that row and that column, and 0 if not.</p><p align="center"><img class="aligncenter size-full wp-image-1699" title="adjacency-matrix" src="https://media.eagereyes.org/wp-content/uploads/2012/02/adjacency-matrix.png" alt="" width="600" height="210"></p><p>Matrix visualization techniques display that matrix rather than the node-link version of the graph. No more crossing lines and no more hairball. Seeing structures in such a visualization requires some training and some support from the visualization tool, but the advantage is that there are no more lines cluttering up the view. This illustration from Nathalie Henry and Jean-Daniel Fekete’s InfoVis 2006 paper <em><a href="http://www.lri.fr/~nhenry/docs/Henry-InfoVis2006.pdf">MatrixExplorer: a Dual-Representation System to Explore Social Networks</a></em> nicely shows how structures in the node-link diagram translate into the matrix view.</p><p align="center"><img class="aligncenter size-full wp-image-1701" title="matrix-vs-nodelink" src="https://media.eagereyes.org/wp-content/uploads/2012/02/matrix-vs-nodelink.png" alt="" width="600" height="381"></p><p>The rows and columns of the matrix can be rearranged, which represents one of the greatest strengths and weaknesses of matrix techniques at the same time: order matters. The patterns that are so obvious in the image above will be easily hidden by jumbling the order of the matrix. But given a good clustering and ordering algorithm, in particular one where the user can specify criteria and weights, a matrix view can show patterns very clearly.</p><h2 id="directed-tree-like-graphs-node-quilts" tabindex="-1">Directed, Tree-Like Graphs: Node Quilts <a class="header-anchor" href="#directed-tree-like-graphs-node-quilts" aria-label="Permalink to &quot;Directed, Tree-Like Graphs: Node Quilts&quot;">​</a></h2><p>A technique I found particularly fascinating at InfoVis 2011 was shown in a paper titled <em><a href="http://ieeexplore.ieee.org/xpl/freeabs_all.jsp?arnumber=6064992">Developing and Evaluating Quilts for the Depiction of Large Layered Graphs</a></em> by Juhee Bae and Ben Watson. Node quilts are designed specifically for directed, acyclic graphs (DAGs): graphs that have a hierarchical structure, where most links point from one layer to the next. This technique was originally designed for genealogical trees, but the version Bae and Watson studied allows links that point up as well (though they should be rare).</p><p align="center"><img class="aligncenter size-full wp-image-1702" title="nodequilt-600" src="https://media.eagereyes.org/wp-content/uploads/2012/02/nodequilt-full.png" alt="" width="443" height="220"></p><p>Node quilts cleverly exploit the fact that most of the action is in one half of the matrix by folding it to eliminate the parts that are (mostly) empty. The resulting visualization is much denser and also more informative: links that skip layers or that point back are shown outside the matrix itself.</p><p>This technique takes a bit of time and study to appreciate, but it extends the matrix visualization idea in a way that is very clever and useful – for particular tasks and data. But focus on particular types of questions is clearly a virtue given the issues with node-link diagrams in general. I also wonder how well the technique might work for undirected graphs, where the lower half of the adjacency matrix can be ignored because it is symmetrical. The focus on using quilts only for DAGs so far may be a bit more narrow than necessary.</p><h2 id="what-are-you-asking-pivotgraph" tabindex="-1">What Are You Asking: PivotGraph <a class="header-anchor" href="#what-are-you-asking-pivotgraph" aria-label="Permalink to &quot;What Are You Asking: PivotGraph&quot;">​</a></h2><p>In many cases, it makes little sense to look at all the individual data items, while an appropriately aggregated view can provide much more useful information. This is the same idea as behind <a title="Parallel Sets" href="/parallel-sets">Parallel Sets</a> and also almost all of the views in <a href="http://www.tableausoftware.com/">Tableau</a>. In 2006, Martin Wattenberg published a paper on a technique he called <a href="http://www.research.ibm.com/visual/papers/pivotgraph.pdf">PivotGraph</a> that adapted the idea of aggregation for use with graphs. For the aggregation to work, there has to be data attached to the graph nodes, and it has to be partly categorical. This is typically the case when looking at rich data like email traffic, phone conversations, etc.</p><p>The PivotGraph has two interesting properties. First, it is very goal-directed: it requires the user to pick dimensions along which to aggregate, and which to use to lay out the graph. Second, it uses space in a very different way than node-link diagrams. While space in node-link diagrams is mostly there to avoid collisions between the nodes and clutter between the lines, it carries information in the case of the PivotGraph.</p><p align="center"><img class="aligncenter size-full wp-image-1704" title="pivotgraph" src="https://media.eagereyes.org/wp-content/uploads/2012/02/pivotgraph.png" alt="" width="600" height="358"></p><p>The example above shows the communication patterns between people in different departments (rows) and locations (columns). The width of the arrows represents the amount of communication going on (emails, etc.). This is aggregated information, not just along the edges but also in the nodes: each department and location consists of multiple people. What would have been a big hairball had all the individual items been shown has been turned into a much simpler image that answers a question.</p><p>Many questions that are asked about network data are of the same nature: How many people who have done A also do B? How do potential customers navigate the different elements on a website and where do they give up? What classes of products are bought together or in quick succession? etc.</p><h2 id="the-graph-beyond-the-graph" tabindex="-1">The Graph Beyond the Graph <a class="header-anchor" href="#the-graph-beyond-the-graph" aria-label="Permalink to &quot;The Graph Beyond the Graph&quot;">​</a></h2><p>For a while now, people in visualization have talked about <em>the graph without the graph</em>, i.e., graph visualization without the hairballs. Networks are clearly important and challenging data, and it seems a bit myopic to only look at node-link visualization. Node quilts and the PivotGraph represent promising steps into a very different direction. While they require more work to understand and are more limited in what they can be used for, they are also much directed towards a goal than just showing all of the data. I think that this kind of thinking will lead us to much more interesting techniques in the future than trying to teach the old node-link diagram new tricks.</p><p><em>Posted by <a href="/about">Robert Kosara</a> on February 01, 2012</em></p><aside class="comments"><hr><h2 id="comments" tabindex="-1">Comments <a class="header-anchor" href="#comments" aria-label="Permalink to &quot;Comments&quot;">​</a></h2><p><a href="http://cscheid.net" rel="nofollow noopener" target="_blank">Carlos Scheidegger</a> says…</p><blockquote><p>Thanks for the link - I expect my traffic to increase by 10x 😉 (And matrix diagrams will be featured too!)</p><p>I agree with you that Node Quilts are intriguing. But be careful: I don&#39;t think that the graph in that picture is acyclic. How do I know that? The matrix diagram shows it to me! If a graph is acyclic, then there&#39;s a permutation of the rows such that no edge lies on the lower diagonal (and then you also see the <em>problem</em> with matrix diagrams: how do I know that the presented ordering is such a permutation? Right now I only suspect that.). This type of thinking is one of the main things I hope to show in my series: different diagram types preserve different things. I want to understand a little more formally (&quot;mathematically&quot;) how to think about those issues. Node quilts are sufficiently complicated to describe that I don&#39;t think I have the tools to do that analysis at present; but contrasting node-link and matrix diagrams is what I intend to do.</p><p>Some node-link algorithms for directed graphs work well in the case of acyclic graphs because you can show ranks vertically, and then order them within-ranks horizontally. But using traditional force-directed node-link algorithms for directed graphs with cycles is usually a mistake, because directed graphs don&#39;t have a good notion of a metric. Think of me on twitter, following @barackobama. Any algorithm that places me close to him because there&#39;s a link between the two of us misses that this link is horribly assymetric. Worse still, any distance-based placement fundamentally misrepresents the situation (and I believe tacking arrowheads on top of it does not help much: arrowheads are not preattentive like distances)</p><p>There are a few possible answers here, all research questions: metaphors for node-link diagrams that don&#39;t invoke distance (seems hard), better algorithms for node-link diagrams (eg. just because two vertices are connected it doesn&#39;t mean they have to be close to each other), and non-node-link diagrams in general.</p></blockquote><p><a href="/about" rel="nofollow noopener" target="_blank">Robert Kosara</a> says…</p><blockquote><p>You&#39;re right that the example graph in the quilt is not acyclic, and I kind of said that in the text. I didn&#39;t want to spend a lot of time talking about the finer points, but they actually show backlinks differently than links that skip over levels.</p><p>I guess I&#39;ll write more about matrix diagrams and node quilts in the future and go into more detail. Maybe we can play off each other&#39;s efforts.</p></blockquote><p><a href="http://www.joshuasaxe.com" rel="nofollow noopener" target="_blank">Josh Saxe</a> says…</p><blockquote><p>Thanks for the great post, which reminded me of some of Ian Timourian&#39;s visualizations of the del.icio.us &quot;bookmark graph&quot;:</p><p><a href="http://mandalabrot.net/delicious/graphs.html" target="_blank" rel="noreferrer">http://mandalabrot.net/delicious/graphs.html</a></p><p>When I first saw this it struck me as a particularly elegant way to visualize a specific subset of a graph&#39;s vertices and edges that, as you say, answer a specific question.</p><p>But just as a visualization of an adjacency matrix is also a <em>matrix</em> visualization, this visualization is as much a &quot;set intersection&quot; visualization as it is a graph visualization.</p><p>I&#39;d be interested in seeing more examples of visualizations of graphs transformed into alternative representations. It seems like while &quot;graph&quot; may be the best metaphor for the computational analysis piece of a project, other metaphors can sometimes best serve in supporting visual analysis (&quot;set&quot;, &quot;matrix&quot;, &quot;histogram&quot;, ...).</p></blockquote><p>Al says…</p><blockquote><p>Dear Mr Kosara,</p><p>If I may, I&#39;d like to set you a challenge.</p><p>Here&#39;s the story of a brave attempt by a design company to try to make a hairball design work on a fairly large data set, through brute force and design skill alone - <a href="http://www.fastcodesign.com/1668928/the-only-chart-you-need-to-mix-a-proper-cocktail" target="_blank" rel="noreferrer">http://www.fastcodesign.com/1668928/the-only-chart-you-need-to-mix-a-proper-cocktail</a>. It arguably comes about as close as is possible to making a big hairball work (I&#39;d only add that it would be more usable if they&#39;d duplicated the labels to both ends of each connecting line, so you know where you&#39;re going before following the line), and it has enough of a combination of aesthetics and usability that they can sell copies for $35 each. But, to be usable it needs to be printed as a huge wall-sized poster, and using it is still hard work.</p><p>So here&#39;s the challenge. If the above techniques can supplant hairballs, how would you use them to better show this data set? What would the Eager Eyes version of this poster look like?</p></blockquote><p><a href="http://www.BioFabric.org" rel="nofollow noopener" target="_blank">William Longabaugh</a> says…</p><blockquote><p>My view is that the best way to deal with &quot;the hairball&quot; is to abandon the notion that nodes have to be represented essentially as points. Instead, represent nodes as horizontal lines...vertical lines are then used to represent edges. This creates an unambiguous presentation. Software that does this kind of visualization has just been released; see www.BioFabric.org. The companion paper is at <a href="http://www.biomedcentral.com/1471-2105/13/275/" target="_blank" rel="noreferrer">http://www.biomedcentral.com/1471-2105/13/275/</a></p></blockquote></aside></div>`);
}
const _sfc_setup = _sfc_main.setup;
_sfc_main.setup = (props, ctx) => {
  const ssrContext = useSSRContext();
  (ssrContext.modules || (ssrContext.modules = /* @__PURE__ */ new Set())).add("blog/2012/graphs-hairball.md");
  return _sfc_setup ? _sfc_setup(props, ctx) : void 0;
};
const graphsHairball = /* @__PURE__ */ _export_sfc(_sfc_main, [["ssrRender", _sfc_ssrRender]]);
export {
  __pageData,
  graphsHairball as default
};
